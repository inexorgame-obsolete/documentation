<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Inexor: inexor/texture/compressedtex.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Inexor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4158cb09e6da1ce6984510dd47e1e7cb.html">inexor</a></li><li class="navelem"><a class="el" href="dir_94277235d89b2cfd1bfc771021b6b0fe.html">texture</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">compressedtex.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>compressed texture (mostly dds) loading.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;SDL_opengl.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;algorithm&gt;</code><br/>
<code>#include &lt;memory&gt;</code><br/>
<code>#include &quot;<a class="el" href="rendergl_8hpp_source.html">inexor/engine/rendergl.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="Logging_8hpp_source.html">inexor/io/Logging.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stream_8hpp_source.html">inexor/io/legacy/stream.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="SharedVar_8hpp_source.html">inexor/network/SharedVar.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8hpp_source.html">inexor/shared/command.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cube__endian_8hpp_source.html">inexor/shared/cube_endian.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cube__loops_8hpp_source.html">inexor/shared/cube_loops.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="geom_8hpp_source.html">inexor/shared/geom.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="tools_8hpp_source.html">inexor/shared/tools.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="compressedtex_8hpp_source.html">inexor/texture/compressedtex.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="image_8hpp_source.html">inexor/texture/image.hpp</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4b4c54335c346dbed6bd5cf93560cead"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#a4b4c54335c346dbed6bd5cf93560cead">DECODEDDS</a>(name, dbpp, initblock, writeval, nextval)</td></tr>
<tr class="separator:a4b4c54335c346dbed6bd5cf93560cead"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5f3e336a2ba9492173a2db017a4ffe8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#ab5f3e336a2ba9492173a2db017a4ffe8">VAR</a> (dbgdds, 0, 0, 1)</td></tr>
<tr class="separator:ab5f3e336a2ba9492173a2db017a4ffe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd31286f9d07565f6f724df0433e3823"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#acd31286f9d07565f6f724df0433e3823">DECODEDDS</a> (decodedxt1, <a class="el" href="lightmap_8cpp.html#ac5187258be943e9c78c8c92ec93cb50b">s.compressed</a>==GL_COMPRESSED_RGBA_S3TC_DXT1_EXT?4:3, <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> color0=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *) src);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> color1=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *)&amp;src[2]);<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> bits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *)&amp;src[4]);<a class="el" href="structbvec4.html">bvec4</a> rgba[4];rgba[0]=<a class="el" href="structbvec4.html">bvec4</a>(<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color0), 0xFF);rgba[1]=bvec4(bvec::from565(color1), 0xFF);if(color0 &gt; color1){rgba[2].lerp(rgba[0], rgba[1], 2, 1, 3);rgba[3].lerp(rgba[0], rgba[1], 1, 2, 3);}else{rgba[2].lerp(rgba[0], rgba[1], 1, 1, 2);rgba[3]=bvec4(0, 0, 0, 0);}, memcpy(dst, rgba[bits &amp;3].v, d.bpp);, bits &gt;&gt;=2;)</td></tr>
<tr class="separator:acd31286f9d07565f6f724df0433e3823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adedd05854610928be5525c7eb92d78b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#adedd05854610928be5525c7eb92d78b8">DECODEDDS</a> (decodedxt3, 4, <a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a> alpha=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a> *) src);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> color0=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *)&amp;src[8]);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> color1=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *)&amp;src[10]);<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> bits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *)&amp;src[12]);<a class="el" href="structbvec.html">bvec</a> rgb[4];rgb[0]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color0);rgb[1]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color1);rgb[2].lerp(rgb[0], rgb[1], 2, 1, 3);rgb[3].lerp(rgb[0], rgb[1], 1, 2, 3);, memcpy(dst, rgb[bits &amp;3].v, 3);dst[3]=((alpha &amp;0xF)*1088+32) &gt;&gt; 6;, bits &gt;&gt;=2;alpha &gt;&gt;=4;)</td></tr>
<tr class="separator:adedd05854610928be5525c7eb92d78b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99936246da0787e3ab0575f88bc64c99"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="glexts_8hpp.html#a2b278d54db62b8b079ae612cd4c3af74">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#a99936246da0787e3ab0575f88bc64c99">decodealpha</a> (<a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> alpha0, <a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> alpha1, <a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> alpha[8])</td></tr>
<tr class="separator:a99936246da0787e3ab0575f88bc64c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036724be4297d9e09feb1464af97bd6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#a036724be4297d9e09feb1464af97bd6c">DECODEDDS</a> (decodedxt5, 4, <a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> alpha[8];<a class="el" href="compressedtex_8cpp.html#a99936246da0787e3ab0575f88bc64c99">decodealpha</a>(src[0], src[1], alpha);<a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a> alphabits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *)&amp;src[2])+((<a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a>) <a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *)&amp;src[4])&lt;&lt; 16);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> color0=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *)&amp;src[8]);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> color1=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> *)&amp;src[10]);<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> bits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const <a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *)&amp;src[12]);<a class="el" href="structbvec.html">bvec</a> rgb[4];rgb[0]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color0);rgb[1]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color1);rgb[2].lerp(rgb[0], rgb[1], 2, 1, 3);rgb[3].lerp(rgb[0], rgb[1], 1, 2, 3);, memcpy(dst, rgb[bits &amp;3].v, 3);dst[3]=alpha[alphabits &amp;7];, bits &gt;&gt;=2;alphabits &gt;&gt;=3;)</td></tr>
<tr class="separator:a036724be4297d9e09feb1464af97bd6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f5abfd943f93837d7d5a983546fb6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="compressedtex_8cpp.html#a57f5abfd943f93837d7d5a983546fb6c">loaddds</a> (const char *filename, <a class="el" href="structImageData.html">ImageData</a> &amp;image, int force)</td></tr>
<tr class="separator:a57f5abfd943f93837d7d5a983546fb6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>compressed texture (mostly dds) loading. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4b4c54335c346dbed6bd5cf93560cead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECODEDDS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dbpp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">initblock, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">writeval, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">nextval&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> name(<a class="code" href="structImageData.html">ImageData</a> &amp;s) \</div>
<div class="line">{ \</div>
<div class="line">    ImageData <a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>(s.w, s.h, dbpp); <a class="code" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">\</a></div>
<div class="line"><a class="code" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">    uchar</a> *dst = <a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.data; \</div>
<div class="line">    const <a class="code" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *src = s.data; \</div>
<div class="line">    for(<span class="keywordtype">int</span> by = 0; by &lt; s.h; by += s.align) \</div>
<div class="line">        { \</div>
<div class="line">        for(<span class="keywordtype">int</span> bx = 0; bx &lt; s.w; bx += s.align, src += s.bpp) \</div>
<div class="line">                { \</div>
<div class="line">            int maxy = <a class="code" href="namespaceinexor_1_1rpc.html#a6444d548ec64af17c213a3e6eb22fba7">min</a>(<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.h - by, s.align), maxx = <a class="code" href="namespaceinexor_1_1rpc.html#a6444d548ec64af17c213a3e6eb22fba7">min</a>(<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.w - bx, s.align); \</div>
<div class="line">            initblock; <a class="code" href="cube__loops_8hpp.html#a924e78b07cbeffdb731ec834567fad5a">\</a></div>
<div class="line"><a class="code" href="cube__loops_8hpp.html#a924e78b07cbeffdb731ec834567fad5a">            loop</a>(y, maxy) \</div>
<div class="line">            { \</div>
<div class="line">                int x; \</div>
<div class="line">                for(x = 0; x &lt; maxx; ++x) \</div>
<div class="line">                                { \</div>
<div class="line">                    writeval; \</div>
<div class="line">                    nextval; \</div>
<div class="line">                    dst += <a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.bpp; \</div>
<div class="line">                                }  \</div>
<div class="line">                for(; x &lt; s.align; ++x) { nextval; } \</div>
<div class="line">                dst += <a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.pitch - maxx*<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.bpp; \</div>
<div class="line">            } \</div>
<div class="line">            dst += maxx*<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.bpp - maxy*<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.pitch; \</div>
<div class="line">                } \</div>
<div class="line">        dst += (s.align-1)*<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>.pitch; \</div>
<div class="line">        } \</div>
<div class="line">    s.replace(<a class="code" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">d</a>); \</div>
<div class="line">}</div>
<div class="ttc" id="cube__loops_8hpp_html_a924e78b07cbeffdb731ec834567fad5a"><div class="ttname"><a href="cube__loops_8hpp.html#a924e78b07cbeffdb731ec834567fad5a">loop</a></div><div class="ttdeci">#define loop(v, m)</div><div class="ttdoc">Legacy file defining loops. </div><div class="ttdef"><b>Definition:</b> cube_loops.hpp:7</div></div>
<div class="ttc" id="structImageData_html"><div class="ttname"><a href="structImageData.html">ImageData</a></div><div class="ttdoc">Structure holding the Raw Pixel Data and minimum image info. </div><div class="ttdef"><b>Definition:</b> image.hpp:20</div></div>
<div class="ttc" id="namespaceinexor_1_1rpc_html_a6444d548ec64af17c213a3e6eb22fba7"><div class="ttname"><a href="namespaceinexor_1_1rpc.html#a6444d548ec64af17c213a3e6eb22fba7">inexor::rpc::min</a></div><div class="ttdeci">const T &amp; min(const inexor::rpc::SharedVar&lt; T &gt; &amp;a, const T &amp;b)</div><div class="ttdef"><b>Definition:</b> SharedVar.hpp:210</div></div>
<div class="ttc" id="namespacehmap_html_a2065ed6304e583f770aba690440fd4d7"><div class="ttname"><a href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">hmap::d</a></div><div class="ttdeci">int d</div><div class="ttdef"><b>Definition:</b> octaedit.cpp:1749</div></div>
<div class="ttc" id="cube__types_8hpp_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdoc">Basic type definitions. </div><div class="ttdef"><b>Definition:</b> cube_types.hpp:7</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a99936246da0787e3ab0575f88bc64c99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="glexts_8hpp.html#a2b278d54db62b8b079ae612cd4c3af74">void</a> decodealpha </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>alpha0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>alpha1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>alpha</em>[8]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acd31286f9d07565f6f724df0433e3823"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DECODEDDS </td>
          <td>(</td>
          <td class="paramtype">decodedxt1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">s.&#160;</td>
          <td class="paramname"><em>compressed</em> = <code>=GL_COMPRESSED_RGBA_S3TC_DXT1_EXT?4:3</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;</td>
          <td class="paramname"><em>color0</em> = <code><a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&#160;src);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;color1=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&amp;src[2]);<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;bits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;*)&amp;src[4]);<a class="el" href="structbvec4.html">bvec4</a>&#160;rgba[4];rgba[0]=<a class="el" href="structbvec4.html">bvec4</a>(<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color0),&#160;0xFF);rgba[1]=bvec4(bvec::from565(color1),&#160;0xFF);if(color0&#160;&gt;&#160;color1){rgba[2].lerp(rgba[0],&#160;rgba[1],&#160;2,&#160;1,&#160;3);rgba[3].lerp(rgba[0],&#160;rgba[1],&#160;1,&#160;2,&#160;3);}else{rgba[2].lerp(rgba[0],&#160;rgba[1],&#160;1,&#160;1,&#160;2);rgba[3]=bvec4(0,&#160;0,&#160;0,&#160;0);}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">memcpy(dst, rgba[bits &amp;3].v, d.bpp);&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bits &gt;&gt;&#160;</td>
          <td class="paramname"> = <code>2;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adedd05854610928be5525c7eb92d78b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DECODEDDS </td>
          <td>(</td>
          <td class="paramtype">decodedxt3&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">4&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a>&#160;</td>
          <td class="paramname"><em>alpha</em> = <code><a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a>&#160;*)&#160;src);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;color0=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&amp;src[8]);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;color1=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&amp;src[10]);<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;bits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;*)&amp;src[12]);<a class="el" href="structbvec.html">bvec</a>&#160;rgb[4];rgb[0]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color0);rgb[1]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color1);rgb[2].lerp(rgb[0],&#160;rgb[1],&#160;2,&#160;1,&#160;3);rgb[3].lerp(rgb[0],&#160;rgb[1],&#160;1,&#160;2,&#160;3);</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">memcpy(dst, rgb[bits &amp;3].v, 3);&#160;</td>
          <td class="paramname"><em>dst</em>[3] = <code>((alpha&#160;&amp;0xF)*1088+32)&#160;&gt;&gt;&#160;6;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bits &gt;&gt;&#160;</td>
          <td class="paramname"> = <code>2;alpha&#160;&gt;&gt;=4;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a036724be4297d9e09feb1464af97bd6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DECODEDDS </td>
          <td>(</td>
          <td class="paramtype">decodedxt5&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">4&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cube__types_8hpp.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> alpha;<a class="el" href="compressedtex_8cpp.html#a99936246da0787e3ab0575f88bc64c99">decodealpha</a>(src[0], src[1], alpha);<a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a>&#160;</td>
          <td class="paramname"><em>alphabits</em>[8] = <code><a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&amp;src[2])+((<a class="el" href="cube__types_8hpp.html#a4d75c353a9c0cf005361dcca7dced9e0">ullong</a>)&#160;<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;*)&amp;src[4])&lt;&lt;&#160;16);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;color0=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&amp;src[8]);<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;color1=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&#160;*)&amp;src[10]);<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;bits=<a class="el" href="cube__endian_8hpp.html#ae1152c53df034f74f576a895e938567f">lilswap</a>(*(const&#160;<a class="el" href="cube__types_8hpp.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;*)&amp;src[12]);<a class="el" href="structbvec.html">bvec</a>&#160;rgb[4];rgb[0]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color0);rgb[1]=<a class="el" href="structbvec.html#a4a4591ae59ac70a2d384f84a2f2381f0">bvec::from565</a>(color1);rgb[2].lerp(rgb[0],&#160;rgb[1],&#160;2,&#160;1,&#160;3);rgb[3].lerp(rgb[0],&#160;rgb[1],&#160;1,&#160;2,&#160;3);</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">memcpy(dst, rgb[bits &amp;3].v, 3);&#160;</td>
          <td class="paramname"><em>dst</em>[3] = <code>alpha[alphabits&#160;&amp;7];</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bits &gt;&gt;&#160;</td>
          <td class="paramname"> = <code>2;alphabits&#160;&gt;&gt;=3;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a57f5abfd943f93837d7d5a983546fb6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool loaddds </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structImageData.html">ImageData</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="structImageData.html#a48002dd4a884905c044be946042fe1a9">ImageData::calcsize()</a>, <a class="el" href="structImageData.html#a2caebc9cb33554c5a17bedcf65eb3f70">ImageData::cleanup()</a>, <a class="el" href="namespacehmap.html#a2065ed6304e583f770aba690440fd4d7">hmap::d</a>, <a class="el" href="structImageData.html#ad419767f541b51593924ad5268cb65d4">ImageData::data</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705acbb4c2700cb616aec2b730399105b5f3">DDPF_ALPHAPIXELS</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705a81a0a371d1a6b253afa21c702e6987da">DDPF_FOURCC</a>, <a class="el" href="compressedtex_8hpp.html#a01003dd668221026a147075177e57607">DDSURFACEDESC2::dwFlags</a>, <a class="el" href="compressedtex_8hpp.html#a2fa974c393dceaef70025b65b69da0c4">DDSURFACEDESC2::dwHeight</a>, <a class="el" href="compressedtex_8hpp.html#aa86f74b7f3b67f51928470b717663eed">DDSURFACEDESC2::dwSize</a>, <a class="el" href="compressedtex_8hpp.html#a83b7976f8c3c5710d2bb005c2e64f688">DDSURFACEDESC2::dwWidth</a>, <a class="el" href="command_8cpp.html#af79d9ba76fd9d821d562607674475252">f()</a>, <a class="el" href="command_8cpp.html#a39b94cea82ccf81a11e56f6cca5c6940">format()</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705a881dc998c7e3972d08760c4ae1915935">FOURCC_DXT1</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705a8d728dbba3702676ea00c99346bdf0cf">FOURCC_DXT2</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705abceaa7ff861e172010d5935a5bd40ea6">FOURCC_DXT3</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705a7db977190677f4aa73417fa5637b6eaf">FOURCC_DXT4</a>, <a class="el" href="compressedtex_8hpp.html#a0e96acf73ec595679ffcca6fecc4d705a5e656612bef9c431c248e95fa84b1df2">FOURCC_DXT5</a>, <a class="el" href="glexts_8hpp.html#a508b2dec21679e2e346cad3e0d1969bf">GLenum()</a>, <a class="el" href="rendergl_8cpp.html#af8ca3eb365ae6ab6d099c51b7cf1fb65">hasS3TC</a>, <a class="el" href="cube__endian_8hpp.html#a8ecb5dc94de7380b30a63408163697da">lilswap()</a>, <a class="el" href="Logging_8cpp.html#a2d71740c205c196830fcfa01ac419108">Log</a>, <a class="el" href="stream_8cpp.html#a62fe00ef73f8bbd17a7b25ba0e21f639">openfile()</a>, <a class="el" href="structstream.html#adcd2510b35b11b7f78dd75207bf43d48">stream::read()</a>, <a class="el" href="structImageData.html#a087fbda44d0ae206d9c7d237e4ea09a3">ImageData::setdata()</a>, and <a class="el" href="classinexor_1_1util_1_1log__manager.html#a17a03ec193a17ddf0c218a976dbe492d">inexor::util::log_manager::std</a>.</p>

<p>Referenced by <a class="el" href="texture_8cpp.html#a2e5ff3a9556b87585f820129325ad3fc">texturedata()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5f3e336a2ba9492173a2db017a4ffe8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VAR </td>
          <td>(</td>
          <td class="paramtype">dbgdds&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 25 2018 14:43:13 for Inexor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
