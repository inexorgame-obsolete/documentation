

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: src/interfaces/WebUserInterfaceManager.js | Inexor Flex</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 120px; height: 80px">
        
            <img src="https://raw.githubusercontent.com/inexorgame/artwork/master/logo/logo_rendered.png" width="100%" height="100%">
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Inexor Flex</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Modules</h3><ul><li><a href="module-api.html">api</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api_sub"></div></li><li><a href="module-console.html">console</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:console_sub"></div></li><li><a href="module-context.html">context</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:context_sub"></div></li><li><a href="module-entities.html">entities</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities_sub"></div></li><li><a href="module-gameclient.html">gameclient</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:gameclient_sub"></div></li><li><a href="module-gameserver.html">gameserver</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:gameserver_sub"></div></li><li><a href="module-instances.html">instances</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:instances_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-instances.html#~default_instance_ports">default_instance_ports</a></li><li><a href="module-instances.html#~default_instance_state">default_instance_state</a></li><li><a href="module-instances.html#~default_instance_type">default_instance_type</a></li><li><a href="module-instances.html#~instance_states">instance_states</a></li><li><a href="module-instances.html#~instance_transitions">instance_transitions</a></li><li><a href="module-instances.html#~instance_types">instance_types</a></li></ul></div></li><li><a href="module-interfaces.html">interfaces</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:interfaces_sub"></div></li><li><a href="module-logger.html">logger</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:logger_sub"></div></li><li><a href="module-logging.html">logging</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:logging_sub"></div></li><li><a href="module-media.html">media</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media_sub"></div></li><li><a href="module-path.html">path</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:path_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-path.html#~config_path">config_path</a></li><li><a href="module-path.html#~DEFAULT_PORT">DEFAULT_PORT</a></li><li><a href="module-path.html#~flex_path">flex_path</a></li><li><a href="module-path.html#~interfaces_path">interfaces_path</a></li><li><a href="module-path.html#~media_path">media_path</a></li><li><a href="module-path.html#~pid_path">pid_path</a></li><li><a href="module-path.html#~releases_path">releases_path</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-path.html#~getConfigPaths">getConfigPaths</a></li><li><a href="module-path.html#~getMediaPaths">getMediaPaths</a></li><li><a href="module-path.html#~getXdgLocationFromEnvironmentVariable">getXdgLocationFromEnvironmentVariable</a></li></ul></div></li><li><a href="module-profiles.html">profiles</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:profiles_sub"></div></li><li><a href="module-releases.html">releases</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:releases_sub"></div></li><li><a href="module-tree.html">tree</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:tree_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-tree.html#~isValidDataType">isValidDataType</a></li><li><a href="module-tree.html#~separator">separator</a></li><li><a href="module-tree.html#~validName">validName</a></li></ul><div class="member-type">Typedef</div><ul class="inner"><li><a href="module-tree.html#~datatype">datatype</a></li><li><a href="module-tree.html#~Flex">Flex</a></li></ul></div></li><li><a href="module-treeclient.html">treeclient</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:treeclient_sub"></div></li><li><a href="module-types.html">types</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:types_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-types.html#~getDataType">getDataType</a></li><li><a href="module-types.html#~isInt">isInt</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="FlexArgs.html">FlexArgs</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="FlexArgs_sub"></div></li><li><a href="module-api-ConsoleWsAPI.html">ConsoleWsAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~ConsoleWsAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-ConsoleWsAPI.html#handleRequest">handleRequest</a></li><li><a href="module-api-ConsoleWsAPI.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-api-FlexRestAPI.html">FlexRestAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~FlexRestAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-FlexRestAPI.html#getSysInfo">getSysInfo</a></li><li><a href="module-api-FlexRestAPI.html#shutdown">shutdown</a></li><li><a href="module-api-FlexRestAPI.html#version">version</a></li></ul></div></li><li><a href="module-api-InexorTreeRestAPI.html">InexorTreeRestAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~InexorTreeRestAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-InexorTreeRestAPI.html#convert">convert</a></li><li><a href="module-api-InexorTreeRestAPI.html#dumpInstanceTree">dumpInstanceTree</a></li><li><a href="module-api-InexorTreeRestAPI.html#dumpRootTree">dumpRootTree</a></li><li><a href="module-api-InexorTreeRestAPI.html#dumpSubTree">dumpSubTree</a></li><li><a href="module-api-InexorTreeRestAPI.html#getInstanceNode">getInstanceNode</a></li><li><a href="module-api-InexorTreeRestAPI.html#getRootNode">getRootNode</a></li><li><a href="module-api-InexorTreeRestAPI.html#setInstanceNode">setInstanceNode</a></li><li><a href="module-api-InexorTreeRestAPI.html#setRootNode">setRootNode</a></li></ul></div></li><li><a href="module-api-InexorTreeWsAPI.html">InexorTreeWsAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~InexorTreeWsAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-InexorTreeWsAPI.html#addNode">addNode</a></li><li><a href="module-api-InexorTreeWsAPI.html#convert">convert</a></li><li><a href="module-api-InexorTreeWsAPI.html#handleRequest">handleRequest</a></li><li><a href="module-api-InexorTreeWsAPI.html#setDependencies">setDependencies</a></li><li><a href="module-api-InexorTreeWsAPI.html#syncNode">syncNode</a></li></ul></div></li><li><a href="module-api-InstancesRestAPI.html">InstancesRestAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~InstancesRestAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-InstancesRestAPI.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-api-InstancesRestAPI.html#connectToInstance">connectToInstance</a></li><li><a href="module-api-InstancesRestAPI.html#createInstance">createInstance</a></li><li><a href="module-api-InstancesRestAPI.html#disconnectFromInstance">disconnectFromInstance</a></li><li><a href="module-api-InstancesRestAPI.html#getInstance">getInstance</a></li><li><a href="module-api-InstancesRestAPI.html#listInstances">listInstances</a></li><li><a href="module-api-InstancesRestAPI.html#removeInstance">removeInstance</a></li><li><a href="module-api-InstancesRestAPI.html#setDependencies">setDependencies</a></li><li><a href="module-api-InstancesRestAPI.html#startAllInstances">startAllInstances</a></li><li><a href="module-api-InstancesRestAPI.html#startInstance">startInstance</a></li><li><a href="module-api-InstancesRestAPI.html#stopAllInstances">stopAllInstances</a></li><li><a href="module-api-InstancesRestAPI.html#stopInstance">stopInstance</a></li><li><a href="module-api-InstancesRestAPI.html#synchronizeWithInstance">synchronizeWithInstance</a></li></ul></div></li><li><a href="module-api-MediaRepositoryRestAPI.html">MediaRepositoryRestAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~MediaRepositoryRestAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-MediaRepositoryRestAPI.html#createMediaRepository">createMediaRepository</a></li><li><a href="module-api-MediaRepositoryRestAPI.html#removeMediaRepository">removeMediaRepository</a></li><li><a href="module-api-MediaRepositoryRestAPI.html#scanMediaRepositories">scanMediaRepositories</a></li><li><a href="module-api-MediaRepositoryRestAPI.html#updateMediaRepository">updateMediaRepository</a></li><li><a href="module-api-MediaRepositoryRestAPI.html#updateMediaRepositoryBranch">updateMediaRepositoryBranch</a></li></ul></div></li><li><a href="module-api-ProfilesRestAPI.html">ProfilesRestAPI</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:api~ProfilesRestAPI_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-api-ProfilesRestAPI.html#createProfile">createProfile</a></li><li><a href="module-api-ProfilesRestAPI.html#dumpProfilesTree">dumpProfilesTree</a></li><li><a href="module-api-ProfilesRestAPI.html#listProfiles">listProfiles</a></li><li><a href="module-api-ProfilesRestAPI.html#removeProfile">removeProfile</a></li><li><a href="module-api-ProfilesRestAPI.html#switchToProfile">switchToProfile</a></li></ul></div></li><li><a href="module-console-CommandManager.html">CommandManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:console~CommandManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-console-CommandManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-console-CommandManager.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-console-ConsoleManager.html">ConsoleManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:console~ConsoleManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-console-ConsoleManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-console-ConsoleManager.html#createConsole">createConsole</a></li><li><a href="module-console-ConsoleManager.html#getBuffer">getBuffer</a></li><li><a href="module-console-ConsoleManager.html#getInstanceLogger">getInstanceLogger</a></li><li><a href="module-console-ConsoleManager.html#mapStreamToLog">mapStreamToLog</a></li><li><a href="module-console-ConsoleManager.html#setDependencies">setDependencies</a></li><li><a href="module-console-ConsoleManager.html#writeBuffer">writeBuffer</a></li></ul></div></li><li><a href="module-entities-Entity.html">Entity</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~Entity_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-Entity.html#addChild">addChild</a></li><li><a href="module-entities-Entity.html#addParent">addParent</a></li><li><a href="module-entities-Entity.html#destroy">destroy</a></li><li><a href="module-entities-Entity.html#getChildEntities">getChildEntities</a></li><li><a href="module-entities-Entity.html#getIncomingRelationships">getIncomingRelationships</a></li><li><a href="module-entities-Entity.html#getOutgoingRelationships">getOutgoingRelationships</a></li><li><a href="module-entities-Entity.html#getParentEntities">getParentEntities</a></li><li><a href="module-entities-Entity.html#getType">getType</a></li><li><a href="module-entities-Entity.html#getUuid">getUuid</a></li><li><a href="module-entities-Entity.html#isChildEntity">isChildEntity</a></li><li><a href="module-entities-Entity.html#isParentEntity">isParentEntity</a></li><li><a href="module-entities-Entity.html#removeChildEntity">removeChildEntity</a></li><li><a href="module-entities-Entity.html#removeParentEntity">removeParentEntity</a></li></ul></div></li><li><a href="module-entities-EntityManager.html">EntityManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~EntityManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-EntityManager.html#create">create</a></li><li><a href="module-entities-EntityManager.html#getAll">getAll</a></li><li><a href="module-entities-EntityManager.html#getByUuid">getByUuid</a></li></ul></div></li><li><a href="module-entities-EntitySystem.html">EntitySystem</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~EntitySystem_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-EntitySystem.html#getEntityManager">getEntityManager</a></li><li><a href="module-entities-EntitySystem.html#getEntityTypeManager">getEntityTypeManager</a></li><li><a href="module-entities-EntitySystem.html#getRelationshipManager">getRelationshipManager</a></li><li><a href="module-entities-EntitySystem.html#getRelationshipTypeManager">getRelationshipTypeManager</a></li></ul></div></li><li><a href="module-entities-EntityType.html">EntityType</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~EntityType_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-EntityType.html#getEntities">getEntities</a></li><li><a href="module-entities-EntityType.html#getName">getName</a></li><li><a href="module-entities-EntityType.html#getUuid">getUuid</a></li><li><a href="module-entities-EntityType.html#isEntityOfType">isEntityOfType</a></li><li><a href="module-entities-EntityType.html#isEntityRegistered">isEntityRegistered</a></li><li><a href="module-entities-EntityType.html#register">register</a></li><li><a href="module-entities-EntityType.html#unregister">unregister</a></li></ul></div></li><li><a href="module-entities-EntityTypeManager.html">EntityTypeManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~EntityTypeManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-EntityTypeManager.html#create">create</a></li><li><a href="module-entities-EntityTypeManager.html#getAll">getAll</a></li><li><a href="module-entities-EntityTypeManager.html#getByUuid">getByUuid</a></li><li><a href="module-entities-EntityTypeManager.html#remove">remove</a></li></ul></div></li><li><a href="module-entities-Relationship.html">Relationship</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~Relationship_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-Relationship.html#disconnect">disconnect</a></li><li><a href="module-entities-Relationship.html#getEndEntity">getEndEntity</a></li><li><a href="module-entities-Relationship.html#getStartEntity">getStartEntity</a></li><li><a href="module-entities-Relationship.html#getType">getType</a></li><li><a href="module-entities-Relationship.html#getUuid">getUuid</a></li></ul></div></li><li><a href="module-entities-RelationshipManager.html">RelationshipManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~RelationshipManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-RelationshipManager.html#create">create</a></li><li><a href="module-entities-RelationshipManager.html#getAll">getAll</a></li><li><a href="module-entities-RelationshipManager.html#getByUuid">getByUuid</a></li><li><a href="module-entities-RelationshipManager.html#remove">remove</a></li></ul></div></li><li><a href="module-entities-RelationshipType.html">RelationshipType</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~RelationshipType_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-RelationshipType.html#getName">getName</a></li><li><a href="module-entities-RelationshipType.html#getUuid">getUuid</a></li><li><a href="module-entities-RelationshipType.html#isRelationshipOfType">isRelationshipOfType</a></li><li><a href="module-entities-RelationshipType.html#isRelationshipRegistered">isRelationshipRegistered</a></li><li><a href="module-entities-RelationshipType.html#register">register</a></li><li><a href="module-entities-RelationshipType.html#unregister">unregister</a></li></ul></div></li><li><a href="module-entities-RelationshipTypesManager.html">RelationshipTypesManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:entities~RelationshipTypesManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-entities-RelationshipTypesManager.html#create">create</a></li><li><a href="module-entities-RelationshipTypesManager.html#getAll">getAll</a></li><li><a href="module-entities-RelationshipTypesManager.html#getByName">getByName</a></li><li><a href="module-entities-RelationshipTypesManager.html#getByUuid">getByUuid</a></li><li><a href="module-entities-RelationshipTypesManager.html#remove">remove</a></li></ul></div></li><li><a href="module-gameclient-ScreenManager.html">ScreenManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:gameclient~ScreenManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-gameclient-ScreenManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-gameclient-ScreenManager.html#onInstanceConnected">onInstanceConnected</a></li><li><a href="module-gameclient-ScreenManager.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-gameserver-IntermissionService.html">IntermissionService</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:gameserver~IntermissionService_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-gameserver-IntermissionService.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-gameserver-IntermissionService.html#onInstanceConnected">onInstanceConnected</a></li><li><a href="module-gameserver-IntermissionService.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-gameserver-MapRotationService.html">MapRotationService</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:gameserver~MapRotationService_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-gameserver-MapRotationService.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-gameserver-MapRotationService.html#getRandomMap">getRandomMap</a></li><li><a href="module-gameserver-MapRotationService.html#onIntermission">onIntermission</a></li><li><a href="module-gameserver-MapRotationService.html#setDependencies">setDependencies</a></li><li><a href="module-gameserver-MapRotationService.html#setMap">setMap</a></li></ul></div></li><li><a href="module-instances-Connector.html">Connector</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:instances~Connector_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-instances-Connector.html#protoDescriptor">protoDescriptor</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-instances-Connector.html#addSynchronizeListener">addSynchronizeListener</a></li><li><a href="module-instances-Connector.html#addTreeNodeSyncListenersFromDefaults">addTreeNodeSyncListenersFromDefaults</a></li><li><a href="module-instances-Connector.html#closeGrpcConnection">closeGrpcConnection</a></li><li><a href="module-instances-Connector.html#connect">connect</a></li><li><a href="module-instances-Connector.html#convert">convert</a></li><li><a href="module-instances-Connector.html#getDataType">getDataType</a></li><li><a href="module-instances-Connector.html#getDefaultValue">getDefaultValue</a></li><li><a href="module-instances-Connector.html#getEventType">getEventType</a></li><li><a href="module-instances-Connector.html#getId">getId</a></li><li><a href="module-instances-Connector.html#getLoggerName">getLoggerName</a></li><li><a href="module-instances-Connector.html#getMessage">getMessage</a></li><li><a href="module-instances-Connector.html#getPath">getPath</a></li><li><a href="module-instances-Connector.html#linkTreeMounts">linkTreeMounts</a></li><li><a href="module-instances-Connector.html#loadInstanceConfiguration">loadInstanceConfiguration</a></li><li><a href="module-instances-Connector.html#onNewTreeNode">onNewTreeNode</a></li><li><a href="module-instances-Connector.html#onTreeNodeSync">onTreeNodeSync</a></li><li><a href="module-instances-Connector.html#populateInstanceTreeFromDefaults">populateInstanceTreeFromDefaults</a></li><li><a href="module-instances-Connector.html#removeGrpcListeners">removeGrpcListeners</a></li><li><a href="module-instances-Connector.html#removeListeners">removeListeners</a></li><li><a href="module-instances-Connector.html#removeTreeListeners">removeTreeListeners</a></li><li><a href="module-instances-Connector.html#sendFinishedTreeIntro">sendFinishedTreeIntro</a></li><li><a href="module-instances-Connector.html#updateTree">updateTree</a></li></ul></div></li><li><a href="module-instances-InstanceManager.html">InstanceManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:instances~InstanceManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-instances-InstanceManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-instances-InstanceManager.html#clear">clear</a></li><li><a href="module-instances-InstanceManager.html#connect">connect</a></li><li><a href="module-instances-InstanceManager.html#create">create</a></li><li><a href="module-instances-InstanceManager.html#disconnect">disconnect</a></li><li><a href="module-instances-InstanceManager.html#exists">exists</a></li><li><a href="module-instances-InstanceManager.html#getCurrentProfile">getCurrentProfile</a></li><li><a href="module-instances-InstanceManager.html#getHostname">getHostname</a></li><li><a href="module-instances-InstanceManager.html#getInstancesByState">getInstancesByState</a></li><li><a href="module-instances-InstanceManager.html#getInstancesByType">getInstancesByType</a></li><li><a href="module-instances-InstanceManager.html#getPort">getPort</a></li><li><a href="module-instances-InstanceManager.html#getTransition">getTransition</a></li><li><a href="module-instances-InstanceManager.html#isValidInstanceType">isValidInstanceType</a></li><li><a href="module-instances-InstanceManager.html#killProcess">killProcess</a></li><li><a href="module-instances-InstanceManager.html#loadInstances">loadInstances</a></li><li><a href="module-instances-InstanceManager.html#pause">pause</a></li><li><a href="module-instances-InstanceManager.html#remove">remove</a></li><li><a href="module-instances-InstanceManager.html#resume">resume</a></li><li><a href="module-instances-InstanceManager.html#saveInstances">saveInstances</a></li><li><a href="module-instances-InstanceManager.html#setDependencies">setDependencies</a></li><li><a href="module-instances-InstanceManager.html#shutdownProcess">shutdownProcess</a></li><li><a href="module-instances-InstanceManager.html#start">start</a></li><li><a href="module-instances-InstanceManager.html#startAll">startAll</a></li><li><a href="module-instances-InstanceManager.html#stop">stop</a></li><li><a href="module-instances-InstanceManager.html#stopAll">stopAll</a></li><li><a href="module-instances-InstanceManager.html#transist">transist</a></li></ul></div></li><li><a href="module-interfaces-LayerManager.html">LayerManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:interfaces~LayerManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-interfaces-LayerManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-interfaces-LayerManager.html#createLayer">createLayer</a></li><li><a href="module-interfaces-LayerManager.html#hideLayer">hideLayer</a></li><li><a href="module-interfaces-LayerManager.html#reloadLayer">reloadLayer</a></li><li><a href="module-interfaces-LayerManager.html#removeLayer">removeLayer</a></li><li><a href="module-interfaces-LayerManager.html#setAcceptingKeyInput">setAcceptingKeyInput</a></li><li><a href="module-interfaces-LayerManager.html#setAcceptingMouseInput">setAcceptingMouseInput</a></li><li><a href="module-interfaces-LayerManager.html#setDependencies">setDependencies</a></li><li><a href="module-interfaces-LayerManager.html#setLayerUrl">setLayerUrl</a></li><li><a href="module-interfaces-LayerManager.html#showLayer">showLayer</a></li></ul></div></li><li><a href="module-interfaces-WebUserInterfaceManager.html">WebUserInterfaceManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:interfaces~WebUserInterfaceManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-interfaces-WebUserInterfaceManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#createInterface">createInterface</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#disableInterface">disableInterface</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#enableInterface">enableInterface</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#getAbsoluteFsPath">getAbsoluteFsPath</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#getFullUrl">getFullUrl</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#getInterfaceNames">getInterfaceNames</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#getPath">getPath</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#getRelativeFsPath">getRelativeFsPath</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#getRelativeUrl">getRelativeUrl</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#interfaceExists">interfaceExists</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#loadInterfaces">loadInterfaces</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#removeInterface">removeInterface</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#scanForInterfaces">scanForInterfaces</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#setDependencies">setDependencies</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#updateInterface">updateInterface</a></li><li><a href="module-interfaces-WebUserInterfaceManager.html#updateInterfaceNode">updateInterfaceNode</a></li></ul></div></li><li><a href="module-logging-LogManager.html">LogManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:logging~LogManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-logging-LogManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-logging-LogManager.html#clear">clear</a></li><li><a href="module-logging-LogManager.html#createLogger">createLogger</a></li><li><a href="module-logging-LogManager.html#getLogger">getLogger</a></li><li><a href="module-logging-LogManager.html#loadLogConfiguration">loadLogConfiguration</a></li><li><a href="module-logging-LogManager.html#setDependencies">setDependencies</a></li><li><a href="module-logging-LogManager.html#setLoglevel">setLoglevel</a></li></ul></div></li><li><a href="module-media-FilesystemRepositoryManager.html">FilesystemRepositoryManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media~FilesystemRepositoryManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-media-FilesystemRepositoryManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-media-FilesystemRepositoryManager.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-media-GitRepositoryManager.html">GitRepositoryManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media~GitRepositoryManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-media-GitRepositoryManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-media-GitRepositoryManager.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-media-MapManager.html">MapManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media~MapManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-media-MapManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-media-MapManager.html#convert">convert</a></li><li><a href="module-media-MapManager.html#createConfigTree">createConfigTree</a></li><li><a href="module-media-MapManager.html#findMapFiles">findMapFiles</a></li><li><a href="module-media-MapManager.html#getMapNames">getMapNames</a></li><li><a href="module-media-MapManager.html#loadMapConfiguration">loadMapConfiguration</a></li><li><a href="module-media-MapManager.html#setDependencies">setDependencies</a></li><li><a href="module-media-MapManager.html#updateMaps">updateMaps</a></li></ul></div></li><li><a href="module-media-MediaManager.html">MediaManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media~MediaManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-media-MediaManager.html#addMedia">addMedia</a></li><li><a href="module-media-MediaManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-media-MediaManager.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-media-MediaRepositoryManager.html">MediaRepositoryManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media~MediaRepositoryManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-media-MediaRepositoryManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-media-MediaRepositoryManager.html#setDependencies">setDependencies</a></li></ul></div></li><li><a href="module-media-TextureManager.html">TextureManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:media~TextureManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-media-TextureManager.html#textureTypes">textureTypes</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-media-TextureManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-media-TextureManager.html#findTextureFilesByTypes">findTextureFilesByTypes</a></li><li><a href="module-media-TextureManager.html#setDependencies">setDependencies</a></li><li><a href="module-media-TextureManager.html#updateTextures">updateTextures</a></li></ul></div></li><li><a href="module-profiles-ProfileManager.html">ProfileManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:profiles~ProfileManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-profiles-ProfileManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-profiles-ProfileManager.html#create">create</a></li><li><a href="module-profiles-ProfileManager.html#exists">exists</a></li><li><a href="module-profiles-ProfileManager.html#getAllProfiles">getAllProfiles</a></li><li><a href="module-profiles-ProfileManager.html#getConfigPath">getConfigPath</a></li><li><a href="module-profiles-ProfileManager.html#getCurrentProfile">getCurrentProfile</a></li><li><a href="module-profiles-ProfileManager.html#getCurrentProfileName">getCurrentProfileName</a></li><li><a href="module-profiles-ProfileManager.html#getDefaultProfile">getDefaultProfile</a></li><li><a href="module-profiles-ProfileManager.html#getDefaultProfileName">getDefaultProfileName</a></li><li><a href="module-profiles-ProfileManager.html#getProfile">getProfile</a></li><li><a href="module-profiles-ProfileManager.html#getProfilesConfigPath">getProfilesConfigPath</a></li><li><a href="module-profiles-ProfileManager.html#loadProfiles">loadProfiles</a></li><li><a href="module-profiles-ProfileManager.html#remove">remove</a></li><li><a href="module-profiles-ProfileManager.html#saveProfiles">saveProfiles</a></li><li><a href="module-profiles-ProfileManager.html#setCurrentProfile">setCurrentProfile</a></li><li><a href="module-profiles-ProfileManager.html#setDependencies">setDependencies</a></li><li><a href="module-profiles-ProfileManager.html#switchTo">switchTo</a></li></ul></div></li><li><a href="module-releases-ReleaseManager.html">ReleaseManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:releases~ReleaseManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="module-releases-ReleaseManager.html#fetching">fetching</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="module-releases-ReleaseManager.html#afterPropertiesSet">afterPropertiesSet</a></li><li><a href="module-releases-ReleaseManager.html#checkForNewReleases">checkForNewReleases</a></li><li><a href="module-releases-ReleaseManager.html#determinePlatform">determinePlatform</a></li><li><a href="module-releases-ReleaseManager.html#downloadRelease">downloadRelease</a></li><li><a href="module-releases-ReleaseManager.html#getBinaryPath">getBinaryPath</a></li><li><a href="module-releases-ReleaseManager.html#getConfigPath">getConfigPath</a></li><li><a href="module-releases-ReleaseManager.html#getExecutableName">getExecutableName</a></li><li><a href="module-releases-ReleaseManager.html#getOrInstallRelease">getOrInstallRelease</a></li><li><a href="module-releases-ReleaseManager.html#getRelease">getRelease</a></li><li><a href="module-releases-ReleaseManager.html#getVersionStrFromZipName">getVersionStrFromZipName</a></li><li><a href="module-releases-ReleaseManager.html#installRelease">installRelease</a></li><li><a href="module-releases-ReleaseManager.html#loadConfig">loadConfig</a></li><li><a href="module-releases-ReleaseManager.html#makeZipNameFromVersion">makeZipNameFromVersion</a></li><li><a href="module-releases-ReleaseManager.html#mkdirLocalCache">mkdirLocalCache</a></li><li><a href="module-releases-ReleaseManager.html#saveConfig">saveConfig</a></li><li><a href="module-releases-ReleaseManager.html#setDependencies">setDependencies</a></li><li><a href="module-releases-ReleaseManager.html#uninstallRelease">uninstallRelease</a></li></ul></div></li><li><a href="module-treeclient-TreeClient.html">TreeClient</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:treeclient~TreeClient_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-treeclient-TreeClient.html#branchMediaRepository">branchMediaRepository</a></li><li><a href="module-treeclient-TreeClient.html#callEndpoint">callEndpoint</a></li><li><a href="module-treeclient-TreeClient.html#clientWindowFullscreen">clientWindowFullscreen</a></li><li><a href="module-treeclient-TreeClient.html#clientWindowMaximize">clientWindowMaximize</a></li><li><a href="module-treeclient-TreeClient.html#clientWindowMinimize">clientWindowMinimize</a></li><li><a href="module-treeclient-TreeClient.html#clientWindowRestore">clientWindowRestore</a></li><li><a href="module-treeclient-TreeClient.html#connectInstance">connectInstance</a></li><li><a href="module-treeclient-TreeClient.html#createEndpoint">createEndpoint</a></li><li><a href="module-treeclient-TreeClient.html#createInstance">createInstance</a></li><li><a href="module-treeclient-TreeClient.html#createMediaRepository">createMediaRepository</a></li><li><a href="module-treeclient-TreeClient.html#createProfile">createProfile</a></li><li><a href="module-treeclient-TreeClient.html#deleteTreeNode">deleteTreeNode</a></li><li><a href="module-treeclient-TreeClient.html#downloadRelease">downloadRelease</a></li><li><a href="module-treeclient-TreeClient.html#dumpInstanceTree">dumpInstanceTree</a></li><li><a href="module-treeclient-TreeClient.html#fetchReleases">fetchReleases</a></li><li><a href="module-treeclient-TreeClient.html#getAllInstances">getAllInstances</a></li><li><a href="module-treeclient-TreeClient.html#getEndpointUrl">getEndpointUrl</a></li><li><a href="module-treeclient-TreeClient.html#getFlexLog">getFlexLog</a></li><li><a href="module-treeclient-TreeClient.html#getFlexSysInfo">getFlexSysInfo</a></li><li><a href="module-treeclient-TreeClient.html#getFlexVersion">getFlexVersion</a></li><li><a href="module-treeclient-TreeClient.html#getInstance">getInstance</a></li><li><a href="module-treeclient-TreeClient.html#getReleaseInfo">getReleaseInfo</a></li><li><a href="module-treeclient-TreeClient.html#getTreeNode">getTreeNode</a></li><li><a href="module-treeclient-TreeClient.html#installRelease">installRelease</a></li><li><a href="module-treeclient-TreeClient.html#listReleases">listReleases</a></li><li><a href="module-treeclient-TreeClient.html#loadReleases">loadReleases</a></li><li><a href="module-treeclient-TreeClient.html#readHJsonConfig">readHJsonConfig</a></li><li><a href="module-treeclient-TreeClient.html#readTOMLConfig">readTOMLConfig</a></li><li><a href="module-treeclient-TreeClient.html#removeInstance">removeInstance</a></li><li><a href="module-treeclient-TreeClient.html#removeMediaRepository">removeMediaRepository</a></li><li><a href="module-treeclient-TreeClient.html#removeProfile">removeProfile</a></li><li><a href="module-treeclient-TreeClient.html#saveReleases">saveReleases</a></li><li><a href="module-treeclient-TreeClient.html#scanMediaRepositories">scanMediaRepositories</a></li><li><a href="module-treeclient-TreeClient.html#setTreeNode">setTreeNode</a></li><li><a href="module-treeclient-TreeClient.html#shutdownFlex">shutdownFlex</a></li><li><a href="module-treeclient-TreeClient.html#startAllInstances">startAllInstances</a></li><li><a href="module-treeclient-TreeClient.html#startInstance">startInstance</a></li><li><a href="module-treeclient-TreeClient.html#stopAllInstances">stopAllInstances</a></li><li><a href="module-treeclient-TreeClient.html#stopInstance">stopInstance</a></li><li><a href="module-treeclient-TreeClient.html#switchProfile">switchProfile</a></li><li><a href="module-treeclient-TreeClient.html#synchronizeInstance">synchronizeInstance</a></li><li><a href="module-treeclient-TreeClient.html#uninstallRelease">uninstallRelease</a></li><li><a href="module-treeclient-TreeClient.html#updateMediaRepository">updateMediaRepository</a></li></ul></div></li><li><a href="module-tree-Root.html">Root</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:tree~Root_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-tree-Root.html#contains">contains</a></li></ul></div></li><li><a href="module-tree-TreeNode.html">TreeNode</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="module:tree~TreeNode_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="module-tree-TreeNode.html#getFlatRepresentation">getFlatRepresentation</a></li><li><a href="module-tree-TreeNode.html#Symbol.iterator">Symbol.iterator</a></li></ul></div></li><li><a href="PidManager.html">PidManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="PidManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="PidManager.html#createPid">createPid</a></li></ul></div></li><li><a href="ProcessManager.html">ProcessManager</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="ProcessManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ProcessManager.html#createProcessHandlers">createProcessHandlers</a></li><li><a href="ProcessManager.html#onExit">onExit</a></li><li><a href="ProcessManager.html#onReloadSignal">onReloadSignal</a></li><li><a href="ProcessManager.html#onSegfault">onSegfault</a></li><li><a href="ProcessManager.html#onShutdownSignal">onShutdownSignal</a></li><li><a href="ProcessManager.html#onUncaughtException">onUncaughtException</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
const EventEmitter = require('events');
const fs = require('fs');
const path = require('path');
const util = require('util');

const express = require('express');
const bunyan = require('bunyan');
const toml = require('toml');
const NodeGit = require('nodegit');
const progress = require('progress');

const tree = require('@inexorgame/tree');
const inexor_path = require('@inexorgame/path');

const debuglog = util.debuglog('instances');
const log = require('@inexorgame/logger')();

/**
 * Management service for web user interfaces.
 * @module interfaces
 */
class WebUserInterfaceManager extends EventEmitter {

  /**
   * @constructor
   */
  constructor(applicationContext) {
    super();

  }

  /**
   * Sets the dependencies from the application context.
   * @function
   */
  setDependencies() {

    /// The Inexor Tree root node
    this.root = this.applicationContext.get('tree');

    /// The router of the Inexor Flex webserver
    this.router = this.applicationContext.get('router');

    /// The Inexor Tree node containing interfaces
    this.interfacesNode = this.root.getOrCreateNode('interfaces');

    /// The profile manager service
    this.profileManager = this.applicationContext.get('profileManager');

    /// The class logger
    this.log = this.applicationContext.get('logManager').getLogger('flex.interfaces.WebUserInterfaceManager');

    /// Internal only. Holds the instance progress bars
    this.bars = {}
  }

  /**
   * Initialization after the components in the application context have been
   * constructed.
   * @function
   */
  afterPropertiesSet() {
    if (!fs.existsSync(inexor_path.interfaces_path)) {
        fs.mkdirSync(inexor_path.interfaces_path);
    }

    this.loadInterfaces().then(() => {
      return new Promise((resolve, reject) => {
        this.interfacesNode.getChildNames().forEach((name) => {
            this.updateInterface(name);
        })

        resolve(true);
      })
    }).catch((err) => {
        this.log.err(`Failed during interface initialization ${err}`)
    }).then(() => {
      this.scanForInterfaces();
    })
  }

  /**
   * Creates a web user interface.
   * @function
   * @param {string} name The name of the web user interface.
   * @param {string} description The description of the web user interface.
   * @param {string} path The path to use on the web server of this Inexor Flex Instance (http://host:port/api/v1/interfaces/:path).
   * @param {string} folder The folder to be delivered (:flex_base_folder/interfaces/:path/:folder).
   * @param {string} repository The URL of the remote git repository.
   */
  createInterface(name, description, path, folder, repository) {
    let interfaceNode = this.interfacesNode.addNode(name);
    interfaceNode.addChild('name', 'string', name);
    interfaceNode.addChild('description', 'string', description);
    interfaceNode.addChild('path', 'string', path);
    interfaceNode.addChild('folder', 'string', folder);
    interfaceNode.addChild('repository', 'string', repository);
    interfaceNode.addChild('enabled', 'bool', false);
    interfaceNode.addChild('relativeFsPath', 'string', '');
    interfaceNode.addChild('absoluteFsPath', 'string', '');
    interfaceNode.addChild('relativeUrl', 'string', '');
    interfaceNode.addChild('fullUrl', 'string', '');
    this.updateInterfaceNode(name);
    this.updateInterface(name).then(() => {
        this.enableInterface(name);
    });
  }

  /**
   * Updates the tree node values for the given user interface.
   * @function
   * @param {string} name The name of the web user interface.
   */
  updateInterfaceNode(name) {
    let interfaceNode = this.interfacesNode.getChild(name);
    interfaceNode.relativeFsPath = this.getRelativeFsPath(name);
    interfaceNode.absoluteFsPath = this.getAbsoluteFsPath(name);
    interfaceNode.relativeUrl = this.getRelativeUrl(name);
    interfaceNode.fullUrl = this.getFullUrl(name);
  }

  /**
   * Returns true, if a web user interface exists with the given name.
   * @function
   * @param {string} name The name of the web user interface.
   */
  interfaceExists(name) {
    return this.interfacesNode.hasChild(name);
  }

  /**
   * Returns the local Removes a web user interface.
   * @function
   * @param {string} name The name of the web user interface.
   */
  getPath(name) {
    if (this.interfaceExists(name)) {
      return this.interfacesNode.getChild(name).path;
    } else {
      return null;
    }
  }

  /**
   * Removes a web user interface.
   * @function
   * @param {string} name The name of the web user interface.
   */
  removeInterface(name) {
    // TODO: implement
    let interfaceNode = this.interfacesNode.removeChild(name);

    if (this.interfacesNode.hasChild(name)) {
      let interfaceNode = this.interfacesNode.removeChild(name);
      return interfaceNode;
    } else {
      return null;
    }
  }

  /**
   * Enables a web user interface.
   * @function
   * @param {string} name The name of the web user interface.
   */
  enableInterface(name) {
    let interfaceNode = this.interfacesNode.getChild(name);
    let interfacePath = path.join(interfaceNode.absoluteFsPath, 'dist') // Always use the dist folder
    this.router.use(interfaceNode.relativeUrl, express.static(interfacePath));
    this.log.info(util.format('Enabled user interface %s on %s', interfacePath, interfaceNode.fullUrl));
    this.log.debug('The static files of %s are located at %s', name, interfaceNode.relativeUrl);
    interfaceNode.enabled = true;
  }

  /**
   * Disables a web user interface.
   * @function
   * @param {string} name The name of the web user interface.
   */
  disableInterface(name) {
    this.interfaceNode.enabled = false;
    // TODO: implement
    // see https://github.com/expressjs/express/issues/2596
  }

  /**
   * Updates the download progress of a node
   * @private
   * @param {Object} stats {@link https://github.com/nodegit/nodegit/issues/1167}
   * @param {Node} node
   * // TODO: Write a generic function because this is used more often. Also have a look at https://github.com/inexorgame/inexor-core/issues/482
   */
  updateStats(stats, node) {
      if (this.bars[node.getName()] === undefined) {
          this.bars[node.getName()] = new progress(` downloading interface ${node.getName()} [:bar] :current%`, {total: 100, stream: this.log.stream})
      } else {
          let increasePercent = Math.round(((100 * (stats.receivedObjects() + stats.indexedObjects()))) / (stats.totalObjects() * 2)) - this.bars[node.getName()].curr
          this.bars[node.getName()].tick(increasePercent)
      }

      ['indexedObjects', 'totalObjects', 'receivedObjects'].forEach((key) => {
          if (node.hasChild(key)) {
              node.getChild(key).set(stats[key]())
          } else {
              node.addChild(key, 'int64', stats[key]())
          }
      });
  }

  /**
   * Updates the local git repository to the latest revision of the remote
   * git repository.
   *
   * @function
   * @param {string} name The name of the web user interface.
   */
  updateInterface(name) {
    return new Promise((resolve, reject) => {
      let interfaceNode = this.interfacesNode.getChild(name);
      let interfacePath = interfaceNode.absoluteFsPath;
      this.log.info(`Updating interface at ${interfacePath}`);

      let vm = this;
      if (fs.existsSync(interfacePath)) {
        NodeGit.Repository.open(interfacePath).then((repo) => {
          vm.bars[name] = new progress(`Downloading user interface ${name} [:bar] :current / :total`, { total: 100, stream: this.log.stream });
          repo.fetchAll({
            callbacks: {
              certificateCheck: function() {
                return 1;
              },
              transferProgress: {
                throttle: 2000, // every 2 seconds is fine
                callback: (stats) => {
                  vm.updateStats(stats, interfaceNode)
                }
              }
            }
          }).then(() => {
            vm.bars[name].tick(vm.bars[name].total - vm.bars[name].curr) // Complete
            delete(vm.bars[name]);
            repo.mergeBranches('master', 'refs/remotes/origin/master').then(() => {
              repo.checkoutBranch('master')
                .then(() => {
                    this.log.info(`[${name}] Checked out latest master`);
                    resolve(true);
                }).catch((err) => {
                    this.log.warn(`[${name}] Failed to check out master: ${err}`);
                    reject(err);
                })
            }).catch((err) => {
              this.log.warn(`[${name}] Failed to merge branch master into origin/master because of ${err}`);
              reject(err);
            });
          }).catch((err) => {
            this.log.warn(`[${name}] Failed to fetch branches because of ${err}`);
            reject(err);
          });
        }).catch((err) => {
          this.log.warn(`[${name}] Something went wrong while opening repository at ${interfacePath}`);
          reject(err);
        });
      } else {
        let repositoryUri = interfaceNode.repository;

        if (repositoryUri == null) {
          this.log.error(`[${name}] Trying to clone interface without repository uri`);
          reject(err);
        } else {
          this.log.info(`Cloning interface ${name} from ${repositoryUri}`);
          NodeGit.Clone(repositoryUri, interfacePath, {
            fetchOpts: {
              callbacks: {
                certificateCheck: function() {
                  return 1;
                },
                transferProgress: {
                    throttle: 2000, // every 2 seconds is fine
                    callback: (stats) => {
                        vm.updateStats(stats, interfaceNode)
                    }
                }
              }
            }
          }).then((repo) => {
            if (vm.bars[name]) {
              vm.bars[name].tick(vm.bars[name].total - vm.bars[name].curr)
              delete(vm.bars[name]);
            }
            this.log.info(`[${name}] Successfully cloned interface to ${interfacePath}`);
            // TODO: Currently we ALWAYS use master branch
            repo.getBranch('refs/remotes/origin/master').then((ref) => {
              return repo.checkoutRef(ref);
            });
            resolve(true);
          }).catch((err) => {
            this.log.warn(`[${name}] Failed cloning interface to ${interfacePath} because ${err}`);
            reject(err);
          });
        }
      }
    });
  }

  /**
   * Loads a web user interface from TOML config.
   * @function
   * @param {string} [filename] - The filename.
   * @return {Promise&lt;bool|string>} - either true or the error reason
   */
  loadInterfaces(filename = 'interfaces.toml') {
    return new Promise((resolve, reject) => {
        let config_path = this.profileManager.getConfigPath(filename);

        this.log.info(`Loading interfaces from ${config_path}`);
        fs.readFile(config_path, ((err, data) => {
          if (err) {
            this.log.err(`Failed to load interfaces config because of ${err}`);
            reject(err);
          }

          let config;
          try {
            config = toml.parse(data.toString());
          } catch (err) {
            this.log.error(`Failed to parse config ${err}`);
            reject(err);
          }

          for (let name of Object.keys(config.interfaces)) {
            this.createInterface(
              config.interfaces[name].name,
              config.interfaces[name].description,
              config.interfaces[name].path,
              inexor_path.interfaces_path,
              config.interfaces[name].repository
            );
          }
        }));
    })
  }

  /**
   * Scans for web user interfaces found locally.
   * @function
   */
  scanForInterfaces() {
    return new Promise((resolve, reject) => {
      let paths = [path.join(inexor_path.flex_path, 'interfaces'), inexor_path.interfaces_path]

      for (let folder of paths) {
        fs.readdir(folder, (err, files) => {
          if (err) {
            this.log.error(err);
          }
          for (let file of files) {
            fs.stat(file, (err, stats) => {
              if (err) {
                this.log.error(err);
                reject(err)
              }

              if (stats.isDirectory()) {
                this.createInterface(file, 'scanned repository', file, folder, `file://${path.resolve(file)}`);
              }
            });
          }
        });
      }
      resolve(true);
    })
  }

  /**
   * Returns the list of interface names.
   * @function
   * @return {array} The names of the user interfaces
   */
  getInterfaceNames() {
    return this.interfacesNode.getChildNames();
  }

  /**
   * Returns the filesystem path relative to Inexor Flex.
   * @function
   * @param {string} name The name of the web user interface.
   */
  getRelativeFsPath(name) {
    let interfaceNode = this.interfacesNode.getChild(name);
    return util.format('interfaces/%s/%s', interfaceNode.path, interfaceNode.folder);
  }

  /**
   * Returns the absolute filesystem path.
   * @function
   * @param {string} name The name of the web user interface.
   */
  getAbsoluteFsPath(name) {
    let interfaceNode = this.interfacesNode.getChild(name);
    return path.join(inexor_path.interfaces_path, interfaceNode.path);
  }

  /**
   * Returns the URL
   * @function
   * @param {string} name The name of the web user interface.
   */
  getRelativeUrl(name) {
    let interfaceNode = this.interfacesNode.getChild(name);
    return util.format('/interfaces/%s/', interfaceNode.path);
  }

  /**
   * Returns the full URL
   * @function
   * @param {string} name The name of the web user interface.
   */
  getFullUrl(name) {
    let interfaceNode = this.interfacesNode.getChild(name);
    return util.format('/api/v1/interfaces/%s/', interfaceNode.path);
  }

}

module.exports = WebUserInterfaceManager;
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="https://raw.githubusercontent.com/inexorgame/artwork/master/logo/logo_rendered.png" style="width: 120px; height: 80px">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var selectedApi = document.getElementById(id); // do not use jquery selector
        var $selectedApi = $(selectedApi);

        $selectedApi.removeClass('hidden');
        $selectedApi.parent().find('.glyphicon').removeClass('glyphicon-plus').addClass('glyphicon-minus');
        showLnbApi();
    </script>

</body>
</html>
